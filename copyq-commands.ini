[Commands]
1\Automatic=true
1\Command="copyq: \n  function lz(s) { return (s.length == 1 ? \"0\"+s : s ) }\n  function lzz(s) { return (s.length == 2 ? \"20\"+s : s ) }\n  var text = str(clipboard())\n  var dateRe = new RegExp('^([0-9]{1,2})\\.([0-9]{1,2})\\.([0-9]{2,4})$')\n  var res = dateRe.exec(text)\n  var result = lzz(res[3]) \n  var result = lzz(res[3]) + \"-\" + lz(res[2]) + \"-\" + lz(res[1])\n  copy(result)\n  execute(\"notify-send\", result)\n"
1\Icon=\xf15b
1\InMenu=true
1\Match="^[0-9]{1,2}\\.[0-9]{1,2}\\.[0-9]{2,4}$"
1\Name=UnifyDate
10\Automatic=true
10\Command=copyq open %1
10\Enable=false
10\HideWindow=true
10\Icon=\xf144
10\InMenu=true
10\Match=^http://.*\\.(mp4|avi|mkv|wmv|flv|ogv)$
10\Name=Autoplay videos
11\Command=copyq: plugins.itemtags.tag()
11\Icon=\xf02b
11\InMenu=true
11\Name=Add a Tag
11\Shortcut=f2
12\Automatic=true
12\Command="copyq:\nvar time = dateString('yyyy-MM-dd hh:mm:ss')\nsetData('application/x-copyq-user-copy-time', time)\n\nvar tagsMime = 'application/x-copyq-tags'\nvar tags = str(data(tagsMime)) + ', ' + time\nsetData(tagsMime, tags)"
12\Icon=\xf017
12\Name=Store Copy Time
13\Automatic=true
13\Enable=false
13\Icon=\xf03e
13\Input=image/png
13\Name=Move Images to Other Tab
13\Remove=true
13\Tab=&Images
14\Automatic=true
14\Command="copyq:\nvar window = str(data('application/x-copyq-owner-window-title'))\nvar tagsMime = 'application/x-copyq-tags'\nvar tags = str(data(tagsMime)) + ', ' + window\nsetData(tagsMime, tags)"
14\Icon=\xf009
14\Name=Store Window Title
15\Automatic=true
15\Icon=\xf03e
15\InMenu=true
15\Input=image/png
15\Name=Move Images to Other Tab
15\Remove=true
15\Tab=&Images
16\Command=copyq: menu()
16\GlobalShortcut=ctrl+alt+h
16\Icon=\xf01c
16\IsGlobalShortcut=true
16\Name=Show the tray menu
17\Command=copyq: toggle()
17\GlobalShortcut=ctrl+alt+p
17\Icon=\xf022
17\IsGlobalShortcut=true
17\Name=Show/hide main window
18\Command=copyq: plugins.itemencrypted.encryptItems()
18\Icon=\xf023
18\InMenu=true
18\Input=!OUTPUT
18\Name=Encrypt (needs GnuPG)
18\Output=application/x-copyq-encrypted
18\Shortcut=ctrl+l
19\Command=copyq: plugins.itemencrypted.decryptItems()
19\Icon=\xf09c
19\InMenu=true
19\Input=application/x-copyq-encrypted
19\Name=Decrypt
19\Output=application/x-copyq-item
19\Shortcut=ctrl+l
2\Command="copyq:\nfromLanguage = 'auto'\ntoLanguage = 'en'\n\ntext = str(input())\nurl = 'https://translate.google.com/#view=home&op=translate'\n    + '&sl=' + fromLanguage\n    + '&tl=' + toLanguage\n    + '&text=' + encodeURIComponent(text)\nopen(url)"
2\Icon=\xf558
2\InMenu=true
2\Input=text/plain
2\Name=Translate to English
2\Shortcut=ctrl+shift+e
20\Command=copyq: plugins.itemencrypted.copyEncryptedItems()
20\Icon=\xf13e
20\InMenu=true
20\Input=application/x-copyq-encrypted
20\Name=Decrypt and Copy
20\Shortcut=ctrl+shift+l
21\Command=copyq: plugins.itemencrypted.pasteEncryptedItems()
21\Enable=false
21\Icon=\xf13e
21\InMenu=true
21\Input=application/x-copyq-encrypted
21\Name=Decrypt and Paste
21\Shortcut=enter
22\Command=copyq open %1
22\HideWindow=true
22\Icon=\xf0ac
22\InMenu=true
22\Name=Open in &Browser
22\Shortcut=alt+b
23\Command="copyq: \nvar text = clipboard()\ncopy(text)\ncopySelection(text)\npaste()"
23\GlobalShortcut=ctrl+alt+v
23\Icon=\xf0ea
23\IsGlobalShortcut=true
23\Name=Paste clipboard as plain text
24\Command="copyq:\nvar text = input()\ncopy(text)\ncopySelection(text)\npaste()"
24\Enable=false
24\GlobalShortcut=ctrl+l
24\HideWindow=true
24\Icon=\xf0ea
24\InMenu=true
24\Input=text/plain
24\IsGlobalShortcut=true
24\Name=Paste as Plain Text
24\OutputTab=&clipboard
25\Command=copyq: showAt()
25\GlobalShortcut=meta+ctrl+p
25\Icon=\xf022
25\IsGlobalShortcut=true
25\Name=Show main window under mouse cursor
26\Command="copyq: \nvar imageData = screenshotSelect()\nwrite('image/png', imageData)\ncopy('image/png', imageData)\n"
26\GlobalShortcut=ctrl+print
26\Icon=\xf030
26\IsGlobalShortcut=true
26\Name=Take screenshot
27\Icon=\xf1f8
27\InMenu=true
27\Name=Move to Trash
27\Remove=true
27\Shortcut=ctrl+x
27\Tab=(trash)
28\Command=copyq: plugins.itempinned.pin()
28\Icon=\xf08d
28\InMenu=true
28\Input=!OUTPUT
28\Name=Pin
28\Output=application/x-copyq-item-pinned
29\Command=copyq: plugins.itempinned.unpin()
29\Icon=\xf08d
29\InMenu=true
29\Input=application/x-copyq-item-pinned
29\Name=Unpin
3\Automatic=true
3\Command="copyq:\nvar tabName = '&url'\n\nfunction lower(data) {\n  return str(data).toLowerCase()\n}\n\nfunction findHeader(reply, headerName) {\n  reply.data // fetches data and headers\n  var headers = reply.headers\n  for (var i in headers) {\n    var header = headers[i]\n    if (lower(header[0]) === headerName)\n       return header[1]\n  }\n  return ''\n}\n\nfunction isHtml(reply) {\n  var header = findHeader(reply, 'content-type')\n  if (header)\n    return lower(header).indexOf(mimeHtml) === 0\n  return false\n}\n\nfunction fetchContent(url, maxRedirects) {\n  if (maxRedirects === undefined)\n    maxRedirects = 4\n\n  var reply = networkGet(url)\n  if (maxRedirects == 0)\n    return reply\n  var header = findHeader(reply, 'location')\n  if (header)\n    return fetchContent(header, maxRedirects - 1)\n\n  return reply\n}\n\nfunction grep(content, re) {\n  return content ? (re.exec(content) || [])[1] : ''\n}\n\nfunction getTitle(content) {\n  var title = grep(content, /<title[^>]*>([^<]*)<\\/title>/i)\n  return title ? title.trim() : ''\n}\n\nfunction getFavicon(content) {\n  var iconLine = grep(content, /<link([^>]*rel=[\"'](?:shortcut )?icon[\"'][^>]*)/i)\n  var icon = grep(iconLine, /href=[\"']([^\"']*)/i)\n\n  if (!icon)\n    return ''\n\n  // Icon path can be complete URL.\n  if (icon.indexOf('://') != -1)\n    return fetchContent(icon).data\n\n  // Icon path can be missing protocol.\n  if (icon.substr(0, 2) === '//') {\n    var i = url.search(/\\/\\//)\n    var protocol = (i == -1) ? 'http:' : url.substr(0, i)\n    return fetchContent(protocol + icon).data\n  }\n\n  // Icon path can be relative to host URL.\n  if (icon[0] === '/') {\n    var baseUrl = url.substr(0, url.search(/[^\\/:](\\/|$)/) + 1)\n    return fetchContent(baseUrl + icon).data\n  }\n\n  // Icon path can be relative to current URL.\n  var baseUrl = url.substr(0, url.lastIndexOf('/') + 1)\n  return fetchContent(baseUrl + icon).data\n}\n\nvar url = str(input()).trim()\n\n// URL already added? (Just check the top of the list.)\nif (url === str(read(0)))\n  abort()\n\n// Fetch HTML.\nvar reply = fetchContent(url)\nif (isHtml(reply)) {\n  var content = str(reply.data)\n  var title = getTitle(content)\n  var icon = getFavicon(content)\n\n  setData(mimeItemNotes, title || '')\n  setData('application/x-copyq-item-icon', icon)\n}\n\nsetData(mimeOutputTab, tabName)"
3\Enable=false
3\Icon=\xf0c1
3\Input=text/plain
3\Match=^https?://
3\Name=Tab for URLs with Title and Icon
30\Command=copyq: plugins.itemtags.tag(decodeURIComponent('%5C1'))
30\Icon=\xf02b
30\InMenu=true
30\MatchCommand=copyq: plugins.itemtags.hasTag(decodeURIComponent('%5C1')) && fail()
30\Name=Tag as \x201c\\1\x201d
31\Command=copyq: plugins.itemtags.untag(decodeURIComponent('%5C1'))
31\Icon=\xf02b
31\InMenu=true
31\MatchCommand=copyq: plugins.itemtags.hasTag(decodeURIComponent('%5C1')) || fail()
31\Name=Remove tag \x201c\\1\x201d
32\Command=copyq: plugins.itemtags.untag()
32\Icon=\xf02b
32\InMenu=true
32\Input=application/x-copyq-tags
32\Name=Remove a Tag
33\Command=copyq: plugins.itemtags.clearTags()
33\Icon=\xf02b
33\InMenu=true
33\Input=application/x-copyq-tags
33\Name=Clear all tags
34\Command=copyq: edit()
34\Icon=\xf069
34\IsGlobalShortcut=true
34\Name=Create new item
4\Command="copyq:\nvar indent = 4\n\nfunction fromData(data)\n{\n  var text = str(data)\n  if ( data.equals(new ByteArray(text)) ) {\n    if (text.indexOf('\\n') == -1)\n      return text\n    return { lines: text.split('\\n') }\n  }\n  return { base64: toBase64(data) }\n}\n\nvar itemsData = selectedItemsData()\nfor (var i in itemsData) {\n  var itemData = itemsData[i]\n  for (var format in itemData)\n    itemData[format] = fromData(itemData[format])\n}\n\nvar text = JSON.stringify(itemsData, null, indent)\ncopy('{ \"copyq_items\": ' + text + ' }')"
4\Display=true
4\Enable=false
4\Icon=\xf2f5
4\InMenu=true
4\Name=Copy Items as JSON
5\Command="copyq: \ncopy('Hello, World!')\nadd('Hello, World!')\npaste()"
5\GlobalShortcut=meta+ctrl+alt+v
5\Icon=\xf2f6
5\InMenu=true
5\IsGlobalShortcut=true
5\MatchCommand=copyq: str(clipboard()).match(/^{ \"copyq_items\": \\[\\n/) || fail()
5\Name=Paste Joined with Comma
6\Command="copyq:\nvar language = 'eng'\n\nvar imageData = input()\nvar result = execute('tesseract', '--list-langs')\nvar languages = str(result.stdout).split('\\n').slice(1)\n\nresult = execute('tesseract', '-l', language, 'stdin', 'stdout', null, data('image/png'))\nadd(result.stdout)\ncopy(result.stdout)"
6\Enable=false
6\GlobalShortcut=ctrl+alt+t
6\Icon=\xf1ea
6\InMenu=true
6\IsGlobalShortcut=true
6\Name=Copy Text from Image (&OCR)
7\Command="import png:- | convert png:- -colorspace Gray -depth 8 -resample 200x200 tif:- | copyq:\nvar language = 'eng'\n\nvar imageData = input()\nvar result = execute('tesseract', '--list-langs')\nvar languages = str(result.stdout).split('\\n').slice(1)\n\nresult = execute('tesseract', '-l', language, 'stdin', 'stdout', null, imageData)\nadd(result.stdout)\ncopy(result.stdout)"
7\GlobalShortcut=alt+shift+t, ctrl+alt+t
7\Icon=\xf1ea
7\IsGlobalShortcut=true
7\Name=Copy Text from Screen Selection
8\Command="copyq: paste();"
8\Icon=\xf0ab
8\IsGlobalShortcut=true
8\Name=Paste non-plain
9\Automatic=true
9\Command="copyq: execute(\"/usr/bin/vlc\", clipboard())\n"
9\Icon=\xf15b
9\InMenu=true
9\Match=^https://.*.youtube.com/.*
9\Name=YouTube2Vlc
9\Shortcut=alt+v
size=34
