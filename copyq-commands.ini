[Commands]
1\Command="copyq: \nvar imageData = screenshot()\nwrite('image/png', imageData)\ncopy('image/png', imageData)\n"
1\GlobalShortcut=print
1\Icon=\xf030
1\IsGlobalShortcut=true
1\Name=Take screenshot
10\Command="import png:- | convert png:- -colorspace Gray -depth 8 -resample 200x200 tif:- | copyq:\nvar language = 'eng'\n\nvar imageData = input()\nvar result = execute('tesseract', '--list-langs')\nvar languages = str(result.stdout).split('\\n').slice(1)\n\nresult = execute('tesseract', '-l', language, 'stdin', 'stdout', null, imageData)\nadd(result.stdout)\ncopy(result.stdout)"
10\GlobalShortcut=alt+shift+t, ctrl+alt+t
10\Icon=\xf1ea
10\IsGlobalShortcut=true
10\Name=Copy Text from Screen Selection
11\Command="copyq: paste();"
11\Icon=\xf0ab
11\IsGlobalShortcut=true
11\Name=Paste non-plain
12\Automatic=true
12\Command="copyq: execute(\"/usr/bin/vlc\", clipboard())\n"
12\Icon=\xf15b
12\InMenu=true
12\Match=^https://.*.youtube.com/.*
12\Name=YouTube2Vlc
12\Shortcut=alt+v
13\Automatic=true
13\Command=copyq open %1
13\Enable=false
13\HideWindow=true
13\Icon=\xf144
13\InMenu=true
13\Match=^http://.*\\.(mp4|avi|mkv|wmv|flv|ogv)$
13\Name=Autoplay videos
14\Command=copyq: plugins.itemtags.tag()
14\Icon=\xf02b
14\InMenu=true
14\Name=Add a Tag
14\Shortcut=f2
15\Automatic=true
15\Command="copyq:\nvar time = dateString('yyyy-MM-dd hh:mm:ss')\nsetData('application/x-copyq-user-copy-time', time)\n\nvar tagsMime = 'application/x-copyq-tags'\nvar tags = str(data(tagsMime)) + ', ' + time\nsetData(tagsMime, tags)"
15\Icon=\xf017
15\Name=Store Copy Time
16\Automatic=true
16\Enable=false
16\Icon=\xf03e
16\Input=image/png
16\Name=Move Images to Other Tab
16\Remove=true
16\Tab=&Images
17\Automatic=true
17\Command="copyq:\nvar window = str(data('application/x-copyq-owner-window-title'))\nvar tagsMime = 'application/x-copyq-tags'\nvar tags = str(data(tagsMime)) + ', ' + window\nsetData(tagsMime, tags)"
17\Icon=\xf009
17\Name=Store Window Title
18\Automatic=true
18\Icon=\xf03e
18\InMenu=true
18\Input=image/png
18\Name=Move Images to Other Tab
18\Remove=true
18\Tab=&Images
19\Command=copyq: menu()
19\GlobalShortcut=ctrl+alt+h
19\Icon=\xf01c
19\IsGlobalShortcut=true
19\Name=Show the tray menu
2\Automatic=true
2\Command="copyq: \n  function lz(s) { return (s.length == 1 ? \"0\"+s : s ) }\n  function lzz(s) { return (s.length == 2 ? \"20\"+s : s ) }\n  var text = str(clipboard())\n  var dateRe = new RegExp('^([0-9]{1,2})\\.([0-9]{1,2})\\.([0-9]{2,4})$')\n  var res = dateRe.exec(text)\n  var result = lzz(res[3]) \n  var result = lzz(res[3]) + \"-\" + lz(res[2]) + \"-\" + lz(res[1])\n  copy(result)\n  execute(\"notify-send\", result)\n"
2\Icon=\xf15b
2\InMenu=true
2\Match="^[0-9]{1,2}\\.[0-9]{1,2}\\.[0-9]{2,4}$"
2\Name=UnifyDate
20\Automatic=true
20\Command="copyq:\nvar option = 'disable_monitoring'\nvar disabled = str(settings(option)) === 'true'\n\nif (str(data('application/x-copyq-shortcut'))) {\n  disabled = !disabled\n  settings(option, disabled)\n  popup('', disabled ? 'Monitoring disabled' : 'Monitoring enabled')\n}\n\nif (disabled) {\n  disable()\n  ignore()\n} else {\n  enable()\n}"
20\Icon=\xf05e
20\InMenu=true
20\Name=Toggle Monitoring
21\Command=copyq: toggle()
21\GlobalShortcut=ctrl+alt+p
21\Icon=\xf022
21\IsGlobalShortcut=true
21\Name=Show/hide main window
22\Command=copyq: plugins.itemencrypted.encryptItems()
22\Icon=\xf023
22\InMenu=true
22\Input=!OUTPUT
22\Name=Encrypt
22\Output=application/x-copyq-encrypted
22\Shortcut=ctrl+l
23\Command=copyq: plugins.itemencrypted.decryptItems()
23\Icon=\xf09c
23\InMenu=true
23\Input=application/x-copyq-encrypted
23\Name=Decrypt
23\Output=application/x-copyq-item
24\Command=copyq: plugins.itemencrypted.copyEncryptedItems()
24\Icon=\xf13e
24\InMenu=true
24\Input=application/x-copyq-encrypted
24\Name=Decrypt and Copy
24\Shortcut=ctrl+shift+l
25\Command=copyq: plugins.itemencrypted.pasteEncryptedItems()
25\Enable=false
25\Icon=\xf13e
25\InMenu=true
25\Input=application/x-copyq-encrypted
25\Name=Decrypt and Paste
25\Shortcut=enter
26\Command=copyq open %1
26\HideWindow=true
26\Icon=\xf0ac
26\InMenu=true
26\Name=Open in &Browser
26\Shortcut=alt+b
27\Command="copyq: \nvar text = clipboard()\ncopy(text)\ncopySelection(text)\npaste()"
27\GlobalShortcut=ctrl+alt+v
27\Icon=\xf0ea
27\IsGlobalShortcut=true
27\Name=Paste clipboard as plain text
28\Command="copyq:\nvar text = input()\ncopy(text)\ncopySelection(text)\npaste()"
28\Enable=false
28\GlobalShortcut=ctrl+l
28\HideWindow=true
28\Icon=\xf0ea
28\InMenu=true
28\Input=text/plain
28\IsGlobalShortcut=true
28\Name=Paste as Plain Text
28\OutputTab=&clipboard
29\Command=copyq: showAt()
29\GlobalShortcut=meta+ctrl+p
29\Icon=\xf022
29\IsGlobalShortcut=true
29\Name=Show main window under mouse cursor
3\Command="copyq:\nfromLanguage = 'auto'\ntoLanguage = 'en'\n\ntext = str(input())\nurl = 'https://translate.google.com/#view=home&op=translate'\n    + '&sl=' + fromLanguage\n    + '&tl=' + toLanguage\n    + '&text=' + encodeURIComponent(text)\nopen(url)"
3\Icon=\xf558
3\InMenu=true
3\Input=text/plain
3\Name=Google-Translate to English
3\Shortcut=ctrl+shift+e
30\Command="copyq: \nvar imageData = screenshotSelect()\nwrite('image/png', imageData)\ncopy('image/png', imageData)\n"
30\GlobalShortcut=ctrl+print
30\Icon=\xf030
30\IsGlobalShortcut=true
30\Name=Take screenshot selection
31\Icon=\xf1f8
31\InMenu=true
31\Name=Move to Trash
31\Remove=true
31\Shortcut=ctrl+x
31\Tab=(trash)
32\Command=copyq: plugins.itempinned.pin()
32\Icon=\xf08d
32\InMenu=true
32\Input=!OUTPUT
32\Name=Pin
32\Output=application/x-copyq-item-pinned
33\Command=copyq: plugins.itempinned.unpin()
33\Icon=\xf08d
33\InMenu=true
33\Input=application/x-copyq-item-pinned
33\Name=Unpin
34\Command=copyq: plugins.itemtags.tag(decodeURIComponent('%5C1'))
34\Icon=\xf02b
34\InMenu=true
34\MatchCommand=copyq: plugins.itemtags.hasTag(decodeURIComponent('%5C1')) && fail()
34\Name=Tag as \x201c\\1\x201d
35\Command=copyq: plugins.itemtags.untag(decodeURIComponent('%5C1'))
35\Icon=\xf02b
35\InMenu=true
35\MatchCommand=copyq: plugins.itemtags.hasTag(decodeURIComponent('%5C1')) || fail()
35\Name=Remove tag \x201c\\1\x201d
36\Command=copyq: plugins.itemtags.untag()
36\Icon=\xf02b
36\InMenu=true
36\Input=application/x-copyq-tags
36\Name=Remove a Tag
37\Command=copyq: plugins.itemtags.clearTags()
37\Icon=\xf02b
37\InMenu=true
37\Input=application/x-copyq-tags
37\Name=Clear all tags
38\Command=copyq: edit()
38\GlobalShortcut=meta+ctrl+alt+space
38\Icon=\xf069
38\IsGlobalShortcut=true
38\Name=Create new item
4\Automatic=true
4\Command="copyq:\n\nsetData(\"text/plain\", \"email\")"
4\Enable=false
4\Icon=\xf15b
4\Match="/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\n"
4\Name=Tab for email addresses
5\Automatic=true
5\Command="copyq:\n\nsetData(\"text/plain\", \"email\")"
5\Enable=false
5\Icon=\xf0c1
5\Input=text/plain
5\Match=^https?://
5\Name=Tab for URLs
6\Automatic=true
6\Command="copyq:\nvar tabName = '&urls'\n\nfunction lower(data) {\n  return str(data).toLowerCase()\n}\n\nfunction findHeader(reply, headerName) {\n  reply.data // fetches data and headers\n  var headers = reply.headers\n  for (var i in headers) {\n    var header = headers[i]\n    if (lower(header[0]) === headerName)\n       return header[1]\n  }\n  return ''\n}\n\nfunction isHtml(reply) {\n  var header = findHeader(reply, 'content-type')\n  if (header)\n    return lower(header).indexOf(mimeHtml) === 0\n  return false\n}\n\nfunction fetchContent(url, maxRedirects) {\n  if (maxRedirects === undefined)\n    maxRedirects = 4\n\n  var reply = networkGet(url)\n  if (maxRedirects == 0)\n    return reply\n  var header = findHeader(reply, 'location')\n  if (header)\n    return fetchContent(header, maxRedirects - 1)\n\n  return reply\n}\n\nfunction grep(content, re) {\n  return content ? (re.exec(content) || [])[1] : ''\n}\n\nfunction getTitle(content) {\n  var title = grep(content, /<title[^>]*>([^<]*)<\\/title>/i)\n  return title ? title.trim() : ''\n}\n\nfunction getFavicon(content) {\n  var iconLine = grep(content, /<link([^>]*rel=[\"'](?:shortcut )?icon[\"'][^>]*)/i)\n  var icon = grep(iconLine, /href=[\"']([^\"']*)/i)\n\n  if (!icon)\n    return ''\n\n  // Icon path can be complete URL.\n  if (icon.indexOf('://') != -1)\n    return fetchContent(icon).data\n\n  // Icon path can be missing protocol.\n  if (icon.substr(0, 2) === '//') {\n    var i = url.search(/\\/\\//)\n    var protocol = (i == -1) ? 'http:' : url.substr(0, i)\n    return fetchContent(protocol + icon).data\n  }\n\n  // Icon path can be relative to host URL.\n  if (icon[0] === '/') {\n    var baseUrl = url.substr(0, url.search(/[^\\/:](\\/|$)/) + 1)\n    return fetchContent(baseUrl + icon).data\n  }\n\n  // Icon path can be relative to current URL.\n  var baseUrl = url.substr(0, url.lastIndexOf('/') + 1)\n  return fetchContent(baseUrl + icon).data\n}\n\nvar url = str(input()).trim()\n\n// URL already added? (Just check the top of the list.)\nif (url === str(read(0)))\n  abort()\n\n// Fetch HTML.\nvar reply = fetchContent(url)\nif (isHtml(reply)) {\n  var content = str(reply.data)\n  var title = getTitle(content)\n  var icon = getFavicon(content)\n\n  setData(mimeItemNotes, title || '')\n  setData('application/x-copyq-item-icon', icon)\n}\n\nsetData(mimeOutputTab, tabName)"
6\Enable=false
6\Icon=\xf0c1
6\Input=text/plain
6\Match=^https?://
6\Name=Tab for URLs with Title and Icon - orig
7\Command="copyq:\nvar indent = 4\n\nfunction fromData(data)\n{\n  var text = str(data)\n  if ( data.equals(new ByteArray(text)) ) {\n    if (text.indexOf('\\n') == -1)\n      return text\n    return { lines: text.split('\\n') }\n  }\n  return { base64: toBase64(data) }\n}\n\nvar itemsData = selectedItemsData()\nfor (var i in itemsData) {\n  var itemData = itemsData[i]\n  for (var format in itemData)\n    itemData[format] = fromData(itemData[format])\n}\n\nvar text = JSON.stringify(itemsData, null, indent)\ncopy('{ \"copyq_items\": ' + text + ' }')"
7\Display=true
7\Enable=false
7\Icon=\xf2f5
7\InMenu=true
7\Name=Copy Items as JSON
8\Command="copyq: \ncopy('Hello, World!')\nadd('Hello, World!')\npaste()"
8\GlobalShortcut=meta+ctrl+alt+v
8\Icon=\xf2f6
8\InMenu=true
8\IsGlobalShortcut=true
8\MatchCommand=copyq: str(clipboard()).match(/^{ \"copyq_items\": \\[\\n/) || fail()
8\Name=Paste Joined with Comma
9\Command="copyq:\nvar language = 'eng'\n\nvar imageData = input()\nvar result = execute('tesseract', '--list-langs')\nvar languages = str(result.stdout).split('\\n').slice(1)\n\nresult = execute('tesseract', '-l', language, 'stdin', 'stdout', null, data('image/png'))\nadd(result.stdout)\ncopy(result.stdout)"
9\Enable=false
9\GlobalShortcut=ctrl+alt+t
9\Icon=\xf1ea
9\InMenu=true
9\IsGlobalShortcut=true
9\Name=Copy Text from Image (&OCR)
size=38
