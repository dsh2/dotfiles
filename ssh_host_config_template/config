# vim: se ft=sshconfig:

Host HOSTNAME
# HostName NAME
# HostKeyAlias HOSTNAME2
User USERNAME

# IdentityAgent none 
IdentitiesOnly yes 
IdentityFile ~/.ssh/hosts/HOSTNAME/id
# IdentityAgent none

ForwardAgent no
ForwardX11 no

RemoteForward 2299 localhost:22

# DynamicForward 1080
# RemoteForward 1080

# PermitLocalCommand yes
# ControlPersist yes
# LocalCommand (sleep 1; ssh -qO check %r@%n 2>/dev/null && mkdir -p %d/mnt/%n && sshfs -p %p %r@%n: %d/mnt/%n && logger -it ssh -- "[%u@%l] Mounted sshfs for %r@%n to ~/mnt/%n." || logger -ist ssh -- "[%u@%l] Failed to mount sshfs for %r@%n to ~/mnt/%n." ) &
# LocalCommand (sleep 1; ssh -qO check %r@%n 2>/dev/null && mkdir -p %d/mnt/%n && sshfs -p %p root@%n:/ %d/mnt/%n && logger -it ssh -- "[%u@%l] Mounted sshfs for %r@%n to ~/mnt/%n." || logger -ist ssh -- "[%u@%l] Failed to mount sshfs for %r@%n to ~/mnt/%n." ) &

# Match host = HOSTNAME exec "nmcli con show --active | grep -q NETWORK"
# Match host = HOSTNAME exec "timeout 0.5 avahi-resolve --name HOSTNAME.local 2> /dev/null"
# HostName HOSTNAME.local
# Port 22

# Match host = HOSTNAME all
# HostName HOSTNAME
# Port 9022 
